(function (e) { function t(t, n) { var i = e.extend({}, e.fn.accordion.defaults, n); var s = ""; t.each(function () { var t = e(this); r(t, i); if (i.bind == "mouseenter") { t.bind("mouseenter", function (e) { e.preventDefault(); o(t, i) }) } if (i.bind == "mouseover") { t.bind("mouseover", function (e) { e.preventDefault(); o(t, i) }) } if (i.bind == "click") { t.bind("click", function (e) { e.preventDefault(); o(t, i) }) } if (i.bind == "dblclick") { t.bind("dblclick", function (e) { e.preventDefault(); o(t, i) }) } id = t.attr("id"); if (!u(i)) { if (id != i.defaultOpen) { t.addClass(i.cssClose); i.loadClose(t, i) } else { t.addClass(i.cssOpen); i.loadOpen(t, i); s = id } } else { if (l(i)) { if (f(id, i) === false) { t.addClass(i.cssClose); i.loadClose(t, i) } else { t.addClass(i.cssOpen); i.loadOpen(t, i); s = id } } else { if (id != i.defaultOpen) { t.addClass(i.cssClose); i.loadClose(t, i) } else { t.addClass(i.cssOpen); i.loadOpen(t, i); s = id } } } }); if (s.length > 0 && u(i)) { a(s, i) } else { a("", i) } return t } function n(e) { return e.data("accordion-opts") } function r(e, t) { return e.data("accordion-opts", t) } function i(t) { opened = e(document).find("." + t.cssOpen); e.each(opened, function () { e(this).addClass(t.cssClose).removeClass(t.cssOpen); t.animateClose(e(this), t) }) } function s(e, t) { i(t); e.removeClass(t.cssClose).addClass(t.cssOpen); t.animateOpen(e, t); if (u(t)) { id = e.attr("id"); a(id, t) } } function o(e, t) { if (e.hasClass(t.cssOpen)) { i(t); if (u(t)) { a("", t) } return false } i(t); s(e, t); return false } function u(t) { if (!e.cookie || t.cookieName == "") { return false } return true } function a(t, n) { if (!u(n)) { return false } e.cookie(n.cookieName, t, n.cookieOptions) } function f(t, n) { if (!u(n)) { return false } if (!l(n)) { return false } cookie = unescape(e.cookie(n.cookieName)); if (cookie != t) { return false } return true } function l(t) { if (!u(t)) { return false } if (e.cookie(t.cookieName) == null) { return false } return true } e.fn.accordion = function (e) { if (!this || this.length < 1) { return this } t(this, e) }; e.fn.accordion.defaults = { cssClose: "accordion-close", cssOpen: "accordion-open", cookieName: "accordion", cookieOptions: { path: "/", expires: 7, domain: "", secure: "" }, defaultOpen: "", speed: "slow", bind: "click", animateOpen: function (e, t) { e.next().stop(true, true).slideDown(t.speed) }, animateClose: function (e, t) { e.next().stop(true, true).slideUp(t.speed) }, loadOpen: function (e, t) { e.next().show() }, loadClose: function (e, t) { e.next().hide() } } })(jQuery)